"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[383],{9383:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var o=r(5714);const a={components:{FormAlert:r(2177).Z},middleware:"auth",props:{itemId:Number},data:function(){return{loading:!1,form:new o.ZP({item_name:"",category_id:"",item_type:"0",barcode:"",supplier_id:"",cost_price:"",sale_price:"",bulk_price:"",available_quantity:0,description:""})}},mounted:function(){this.itemId&&this.loadData()},methods:{loadData:function(){var e=this;this.loading=!0,this.$http.get("/api/items/"+this.itemId).then((function(t){var r=t.data.data,a=r.item_name,s=r.category_id,i=r.item_type,l=r.barcode,d=r.supplier_id,c=r.cost_price,n=r.sale_price,m=r.bulk_price,u=r.available_quantity,p=r.description;e.form=new o.ZP({item_name:a,category_id:s,item_type:String(i),barcode:l,supplier_id:d,cost_price:c,sale_price:n,bulk_price:m,available_quantity:u,description:p}),e.loading=!1})).catch((function(t){console.log(t),e.loading=!1}))},submitForm:function(){var e=this;this.itemId?this.form.put("/api/items/"+this.itemId).then((function(t){var r=t.data;e.$store.dispatch("snackbar/showMessage",r.message),e.$router.push({name:"items"})})).catch((function(t){t.response&&t.response.data&&e.$set(e.form,"errorMessage",t.response.data.message),console.log(t)})):this.form.post("/api/items").then((function(t){var r=t.data;e.$store.dispatch("snackbar/showMessage",r.message),e.$router.push({name:"items"})})).catch((function(t){t.response&&t.response.data&&e.$set(e.form,"errorMessage",t.response.data.message),console.log(t)}))}}};const s=(0,r(1900).Z)(a,(function(){var e=this,t=e._self._c;return t("v-card",{attrs:{rounded:"lg"}},[e.itemId?e._e():t("v-card-title",[e._v("\n    Add Item\n  ")]),e._v(" "),e.itemId?t("v-card-title",[e._v("\n    Update Item: "+e._s(e.form.item_name)+"\n  ")]):e._e(),e._v(" "),t("v-card-text",[t("form-alert",{attrs:{form:e.form}}),e._v(" "),t("v-form",{staticClass:"multi-col-validation"},[t("v-row",[t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-text-field",{attrs:{"error-messages":e.form.errors.get("item_name"),label:"Item Name",required:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.item_name,callback:function(t){e.$set(e.form,"item_name",t)},expression:"form.item_name"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-text-field",{attrs:{"error-messages":e.form.errors.get("category_id"),label:"Category",required:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.category_id,callback:function(t){e.$set(e.form,"category_id",t)},expression:"form.category_id"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-text-field",{attrs:{"error-messages":e.form.errors.get("barcode"),label:"Barcode",required:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.barcode,callback:function(t){e.$set(e.form,"barcode",t)},expression:"form.barcode"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-text-field",{attrs:{"error-messages":e.form.errors.get("supplier_id"),label:"Supplier",required:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.supplier_id,callback:function(t){e.$set(e.form,"supplier_id",t)},expression:"form.supplier_id"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-text-field",{attrs:{"error-messages":e.form.errors.get("cost_price"),label:"Cost Price",required:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.cost_price,callback:function(t){e.$set(e.form,"cost_price",t)},expression:"form.cost_price"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-text-field",{attrs:{"error-messages":e.form.errors.get("sale_price"),label:"Sale Price",required:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.sale_price,callback:function(t){e.$set(e.form,"sale_price",t)},expression:"form.sale_price"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-text-field",{attrs:{"error-messages":e.form.errors.get("bulk_price"),label:"Bulk Price",required:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.bulk_price,callback:function(t){e.$set(e.form,"bulk_price",t)},expression:"form.bulk_price"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-text-field",{attrs:{"error-messages":e.form.errors.get("available_quantity"),label:"Available Quantity",required:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.available_quantity,callback:function(t){e.$set(e.form,"available_quantity",t)},expression:"form.available_quantity"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-text-field",{attrs:{"error-messages":e.form.errors.get("description"),label:"Description",required:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-radio-group",{attrs:{"error-messages":e.form.errors.get("item_type"),row:""},scopedSlots:e._u([{key:"label",fn:function(){return[t("div",[e._v("Item Type")])]},proxy:!0}]),model:{value:e.form.item_type,callback:function(t){e.$set(e.form,"item_type",t)},expression:"form.item_type"}},[e._v(" "),t("v-radio",{attrs:{label:"Stock",value:"0"}}),e._v(" "),t("v-radio",{attrs:{label:"Non-Stocked",value:"1"}})],1)],1)],1),e._v(" "),t("v-row",[t("v-col",[t("v-btn",{attrs:{color:"primary",loading:e.form.busy,disabled:e.form.busy},on:{click:e.submitForm}},[e._v("\n            "+e._s(e.itemId?"Update":"Submit")+"\n          ")]),e._v(" "),t("v-btn",{staticClass:"mx-2",attrs:{to:{name:"items"},type:"reset",color:"error"}},[e._v("\n            Cancel\n          ")])],1)],1)],1)],1),e._v(" "),t("v-card-text",[t("pre",[e._v(e._s(e.form))])])],1)}),[],!1,null,null,null).exports}}]);