"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[497,712],{3497:(t,s,e)=>{e.r(s),e.d(s,{default:()=>i});const a={components:{InvoiceItems:e(1712).default},middleware:"auth",props:{purchaseId:{type:String,default:""}},data:function(){return{loading:!1,purchase:{}}},watch:{},mounted:function(){this.purchaseId&&this.loadData()},methods:{loadData:function(){var t=this;this.loading=!0,this.$http.get("/api/purchases/"+this.purchaseId).then((function(s){var e=s.data;t.purchase=e.data,t.loading=!1})).catch((function(s){console.log(s),t.loading=!1}))}}};const i=(0,e(1900).Z)(a,(function(){var t=this,s=t._self._c;return s("v-card",{on:{click:t.loadData}},[s("v-card-text",{staticClass:"py-9 px-8"},[s("div",{staticClass:"d-flex flex-wrap justify-space-between flex-column flex-sm-row"},[s("div",{staticClass:"mb-8 mb-sm-0"},[s("div",{staticClass:"d-flex align-center mb-6"},[s("v-img",{attrs:{"lazy-src":"https://picsum.photos/id/11/10/6","max-height":"30","max-width":"30",src:"https://picsum.photos/id/11/500/300"}}),t._v(" "),s("span",{staticClass:"text--primary font-weight-bold text-xl ml-6"},[t._v(" "+t._s(t.$settings.company)+" ")])],1),t._v(" "),s("div",{staticClass:"d-block"},[t._v("\n          "+t._s(t.$settings.address)+"\n        ")]),t._v(" "),s("div",{staticClass:"d-block"},[s("strong",[t._v("Phone: ")]),t._v(t._s(t.$settings.phone)+"\n        ")]),t._v(" "),s("div",{staticClass:"d-block"},[s("strong",[t._v("Email: ")]),t._v(t._s(t.$settings.email)+"\n        ")]),t._v(" "),s("div",{staticClass:"d-block"},[s("strong",[t._v("Website: ")]),t._v(t._s(t.$settings.website)+"\n        ")])]),t._v(" "),s("div",[s("p",{staticClass:"font-weight-medium text-xl text--primary mb-4"},[t._v("\n          Purchase # "+t._s(t.purchase.id)+"\n        ")]),t._v(" "),s("p",{staticClass:"mb-2"},[s("span",[t._v("Date: ")]),t._v(" "),s("span",{staticClass:"font-weight-semibold"},[t._v(t._s(t.purchase.purchaseTime))])])])])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",{staticClass:"py-9 px-8"},[s("div",{staticClass:"payment-details d-flex justify-space-between flex-wrap flex-column flex-sm-row"},[t.purchase.supplier?s("div",{staticClass:"mb-8 mb-sm-0"},[s("p",{staticClass:"font-weight-semibold payment-details-header"},[t._v("\n          Supplier:\n        ")]),t._v(" "),s("p",{staticClass:"mb-1"},[t._v("\n          "+t._s(t.purchase.supplier.name)+"\n        ")]),t._v(" "),t.purchase.supplier.companyName?s("p",{staticClass:"mb-1"},[t._v("\n          "+t._s(t.purchase.supplier.companyName)+"\n        ")]):t._e(),t._v(" "),t.purchase.supplier.address?s("p",{staticClass:"mb-1"},[t._v("\n          "+t._s(t.purchase.supplier.address)+"\n        ")]):t._e(),t._v(" "),t.purchase.supplier.city||t.purchase.supplier.province?s("p",{staticClass:"mb-1"},[t._v("\n          "+t._s(t.purchase.supplier.city)+", "+t._s(t.purchase.supplier.province)+"\n        ")]):t._e(),t._v(" "),t.purchase.supplier.phone?s("p",{staticClass:"mb-1"},[t._v("\n          "+t._s(t.purchase.supplier.phone)+"\n        ")]):t._e(),t._v(" "),t.purchase.supplier.email?s("p",{staticClass:"mb-1"},[t._v("\n          "+t._s(t.purchase.supplier.email)+"\n        ")]):t._e()]):t._e(),t._v(" "),t._e()])]),t._v(" "),s("invoice-items",{attrs:{"invoice-items":t.purchase.items}}),t._v(" "),s("v-card-text",{staticClass:"py-9 px-8"},[s("div",{staticClass:"invoice-total d-flex justify-space-between flex-column flex-sm-row"},[s("div",{staticClass:"mb-2 mb-sm-0"},[s("p",{staticClass:"mb-1"},[s("span",{staticClass:"font-weight-semibold"},[t._v("Salesperson: ")]),t._v(" "),s("span",[t._v(t._s(t.purchase.createdBy))])]),t._v(" "),s("p",[t._v("Thanks for your business")]),t._v(" "),s("p",[s("strong",[t._v("Comments: ")]),t._v(" "+t._s(t.purchase.comments))])]),t._v(" "),s("div",[s("table",[s("tr",[s("td",{staticClass:"pe-16"},[t._v("\n              Total:\n            ")]),t._v(" "),s("th",{staticClass:"text-right"},[t._v("\n              "+t._s(t._f("currency")(t.purchase.totalAmount))+"\n            ")])]),t._v(" "),s("tr",[s("td",{staticClass:"pe-16"},[t._v("\n              Payment:\n            ")]),t._v(" "),s("th",{staticClass:"text-right"},[t._v("\n              "+t._s(t._f("currency")(t.purchase.amountPaid))+"\n            ")])])]),t._v(" "),s("hr",{staticClass:"mt-4 mb-3 v-divider theme--light",attrs:{role:"separator","aria-orientation":"horizontal"}}),t._v(" "),s("table",{staticClass:"w-full"},[s("tr",[s("td",{staticClass:"pe-16"},[t._v("\n              Balance:\n            ")]),t._v(" "),s("th",{staticClass:"text-right"},[t._v("\n              "+t._s(t._f("currency")(t.purchase.balance))+"\n            ")])])])])])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",{staticClass:"py-9 px-8"},[s("p",{staticClass:"mb-0"},[s("span",{staticClass:"font-weight-semibold"},[t._v("Return Policy: ")]),s("span",[t._v(t._s(t.$settings.return_policy))])])])],1)}),[],!1,null,null,null).exports},1712:(t,s,e)=>{e.r(s),e.d(s,{default:()=>i});const a={props:{invoiceItems:{type:Array,default:function(){return[]}},edit:{type:Boolean,default:!1}},data:function(){return{}},watch:{},mounted:function(){},methods:{removeItem:function(t){this.$emit("itemRemoved",t)}}};const i=(0,e(1900).Z)(a,(function(){var t=this,s=t._self._c;return s("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){var e,a,i,n;return[s("thead",[s("tr",[t.edit?s("th",{staticStyle:{width:"100px"}}):t._e(),t._v(" "),s("th",{staticStyle:{width:"100px"}},[t._v("\n          Item #\n        ")]),t._v(" "),s("th",[t._v("Name")]),t._v(" "),s("th",{staticStyle:{width:"100px"}},[t._v("\n          Price\n        ")]),t._v(" "),s("th",{staticStyle:{width:"100px"}},[t._v("\n          Qty\n        ")]),t._v(" "),s("th",{staticStyle:{width:"100px"}},[t._v("\n          Total\n        ")])])]),t._v(" "),s("tbody",t._l(t.invoiceItems,(function(e){return s("tr",{key:e.id,class:{"red lighten-5":e.salePrice<=e.costPrice}},[t.edit?s("td",[s("v-btn",{staticClass:"ma-2",attrs:{text:"",icon:"",color:"red"},on:{click:function(s){return t.removeItem(e.id)}}},[s("v-icon",[t._v("\n              mdi-delete\n            ")])],1)],1):t._e(),t._v(" "),s("td",[t._v(t._s(e.itemId||"-"))]),t._v(" "),s("td",[t._v(t._s(e.itemName))]),t._v(" "),s("td",[t.edit?s("v-text-field",{attrs:{type:"number"},model:{value:e.purchasePrice,callback:function(s){t.$set(e,"purchasePrice",s)},expression:"item.purchasePrice"}}):s("span",[t._v(t._s(t._f("currency")(e.purchasePrice)))])],1),t._v(" "),s("td",[t.edit?s("v-text-field",{attrs:{type:"number"},model:{value:e.quantity,callback:function(s){t.$set(e,"quantity",s)},expression:"item.quantity"}}):s("span",[t._v(t._s(t._f("showNumber")(e.quantity)))])],1),t._v(" "),s("td",[t._v(t._s(t._f("currency")(parseFloat(e.purchasePrice*e.quantity))))])])})),0),t._v(" "),t.edit?s("tfoot",[s("tr",[s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th",[t._v(t._s(t._f("showNumber")(null!==(e=null===(a=t.invoiceItems)||void 0===a?void 0:a.reduce((function(t,s){return t+parseFloat(s.quantity)}),0))&&void 0!==e?e:0)))]),t._v(" "),s("th",[t._v(t._s(t._f("currency")(null!==(i=null===(n=t.invoiceItems)||void 0===n?void 0:n.reduce((function(t,s){return t+parseFloat(s.purchasePrice*s.quantity)}),0))&&void 0!==i?i:0)))])])]):t._e()]},proxy:!0}])})}),[],!1,null,null,null).exports}}]);