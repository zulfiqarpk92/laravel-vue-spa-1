"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[727],{6727:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const s={data:function(){return{loading:!1,invoiceItems:[],searchLoading:!1,searchItems:[],searchText:null,searchItem:null,searchDebounce:null}},watch:{searchText:function(e){var t=this;if(e){var n=this.searchItems.find((function(e){return e.item_id===t.searchItem}));if(n&&n.name===e)return console.log("select clicked"),this.searchItem=null,void this.$emit("selected",n);clearTimeout(this.searchDebounce),this.searchDebounce=setTimeout((function(){e&&e!==t.searchItem&&t.querySelections(e)}),350)}},searchItem:function(e){e||(this.searchItems.find((function(t){return t.item_id===e}))||alert("Item not found"))}},methods:{querySelections:function(e){var t=this;this.searchLoading=!0,this.$http.get("/api/items/search?q="+e).then((function(e){var n=e.data;t.searchItems=n,t.searchLoading=!1}))}}};const i=(0,n(1900).Z)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-autocomplete",{attrs:{loading:e.searchLoading,items:e.searchItems,"search-input":e.searchText,"item-text":"item_name","item-value":"id",flat:"","hide-no-data":"","hide-details":"",label:"Search item"},on:{"update:searchInput":function(t){e.searchText=t},"update:search-input":function(t){e.searchText=t}},scopedSlots:e._u([{key:"item",fn:function(t){return["object"!=typeof t.item?[n("v-list-item-content",{domProps:{textContent:e._s(t.item)}})]:[n("v-list-item-content",{domProps:{textContent:e._s(t.item)}}),e._v(" "),n("v-list-item-content",[n("v-list-item-title",{domProps:{innerHTML:e._s(t.item.item_name)}}),e._v(" "),n("v-list-item-subtitle",{domProps:{innerHTML:e._s(t.item.category)}})],1)]]}}]),model:{value:e.searchItem,callback:function(t){e.searchItem=t},expression:"searchItem"}})}),[],!1,null,null,null).exports}}]);