"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[709],{3709:(e,s,r)=>{r.r(s),r.d(s,{default:()=>a});var t=r(5714);const o={components:{FormAlert:r(2177).Z},middleware:"auth",props:{supplierId:Number},data:function(){return{loading:!1,nameRules:[function(e){return!!e||"Name is required"},function(e){return e.length<=20||"Name must be less than 20 characters"}],emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}],form:new t.ZP({name:"",email:"",phone:"",city:"",address:"",province:"",comments:""})}},mounted:function(){this.supplierId&&this.loadData()},methods:{loadData:function(){var e=this;this.loading=!0,this.$http.get("/api/suppliers/"+this.supplierId).then((function(s){var r=s.data,o=r.name,a=r.email,l=r.phone,n=r.city,i=r.address,m=r.province,d=r.comments;e.form=new t.ZP({name:o,email:a,phone:l,city:n,address:i,province:m,comments:d}),e.loading=!1})).catch((function(s){console.log(s),e.loading=!1}))},submitForm:function(){var e=this;this.supplierId?this.form.put("/api/suppliers/"+this.supplierId).then((function(s){var r=s.data;e.$store.dispatch("snackbar/showMessage",r.message),e.$router.push({name:"suppliers"})})).catch((function(s){s.response&&s.response.data&&e.$set(e.form,"errorMessage",s.response.data.message),console.log(s)})):this.form.post("/api/suppliers").then((function(s){var r=s.data;e.$store.dispatch("snackbar/showMessage",r.message),e.$router.push({name:"suppliers"})})).catch((function(s){s.response&&s.response.data&&e.$set(e.form,"errorMessage",s.response.data.message),console.log(s)}))}}};const a=(0,r(1900).Z)(o,(function(){var e=this,s=e._self._c;return s("v-card",{attrs:{rounded:"lg"}},[e.supplierId?e._e():s("v-card-title",[e._v("\n    Add Supplier\n  ")]),e._v(" "),e.supplierId?s("v-card-title",[e._v("\n    Update Supplier\n  ")]):e._e(),e._v(" "),s("v-card-text",[s("form-alert",{attrs:{form:e.form}}),e._v(" "),s("v-form",{staticClass:"multi-col-validation"},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{rules:e.nameRules,"error-messages":e.form.errors.get("name"),label:"Name",required:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.name,callback:function(s){e.$set(e.form,"name",s)},expression:"form.name"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{rules:e.emailRules,"error-messages":e.form.errors.get("email"),label:"Email",required:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.email,callback:function(s){e.$set(e.form,"email",s)},expression:"form.email"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{"error-messages":e.form.errors.get("phone"),label:"Phone",required:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.phone,callback:function(s){e.$set(e.form,"phone",s)},expression:"form.phone"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{"error-messages":e.form.errors.get("address"),label:"Address",required:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.address,callback:function(s){e.$set(e.form,"address",s)},expression:"form.address"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{"error-messages":e.form.errors.get("city"),label:"City",required:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.city,callback:function(s){e.$set(e.form,"city",s)},expression:"form.city"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{"error-messages":e.form.errors.get("province"),label:"Province",required:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.province,callback:function(s){e.$set(e.form,"province",s)},expression:"form.province"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12"}},[s("v-textarea",{attrs:{label:"Comments",rows:"2",outlined:""},model:{value:e.form.comments,callback:function(s){e.$set(e.form,"comments",s)},expression:"form.comments"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12"}},[e.supplierId?e._e():s("v-btn",{attrs:{color:"primary",loading:e.form.busy,disabled:e.form.busy},on:{click:e.submitForm}},[e._v("\n            Submit\n          ")]),e._v(" "),e.supplierId?s("v-btn",{attrs:{color:"primary",loading:e.form.busy,disabled:e.form.busy},on:{click:e.submitForm}},[e._v("\n            Update\n          ")]):e._e(),e._v(" "),s("v-btn",{staticClass:"mx-2",attrs:{to:{name:"suppliers"},type:"reset",color:"error"}},[e._v("\n            Cancel\n          ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);