"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[147],{6147:(e,o,s)=>{s.r(o),s.d(o,{default:()=>a});var t=s(5714);const r={components:{FormAlert:s(2177).Z},middleware:"auth",props:["employeeId"],data:function(){return{loading:!1,form:new t.ZP({name:"",email:"",phone:"",city:"",address:"",province:"",comments:""})}},mounted:function(){this.employeeId&&this.loadData()},methods:{loadData:function(){var e=this;this.loading=!0,this.$http.get("/api/employees/"+this.employeeId).then((function(o){var s=o.data.data,r=s.name,a=s.email,l=s.phone,n=s.city,m=s.address,i=s.province,d=s.comments;e.form=new t.ZP({name:r,email:a,phone:l,city:n,address:m,province:i,comments:d}),e.loading=!1})).catch((function(o){console.log(o),e.loading=!1}))},submitForm:function(){var e=this;this.employeeId?this.form.put("/api/employees/"+this.employeeId).then((function(o){var s=o.data;e.$store.dispatch("snackbar/showMessage",s.message),e.$router.push({name:"employees"})})).catch((function(o){o.response&&o.response.data&&e.$set(e.form,"errorMessage",o.response.data.message),console.log(o)})):this.form.post("/api/employees").then((function(o){var s=o.data;e.$store.dispatch("snackbar/showMessage",s.message),e.$router.push({name:"employees"})})).catch((function(o){o.response&&o.response.data&&e.$set(e.form,"errorMessage",o.response.data.message),console.log(o)}))}}};const a=(0,s(1900).Z)(r,(function(){var e=this,o=e._self._c;return o("v-card",{attrs:{rounded:"lg"}},[e.employeeId?e._e():o("v-card-title",[e._v("\n    Add Employee\n  ")]),e._v(" "),e.employeeId?o("v-card-title",[e._v("\n    Update Employee "+e._s(e.form.name)+"\n  ")]):e._e(),e._v(" "),o("v-card-text",[o("form-alert",{attrs:{form:e.form}}),e._v(" "),o("v-form",{staticClass:"multi-col-validation"},[o("v-row",[o("v-col",{attrs:{cols:"12",md:"6"}},[o("v-text-field",{attrs:{"error-messages":e.form.errors.get("name"),label:"Name",required:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.name,callback:function(o){e.$set(e.form,"name",o)},expression:"form.name"}})],1),e._v(" "),o("v-col",{attrs:{cols:"12",md:"6"}},[o("v-text-field",{attrs:{"error-messages":e.form.errors.get("email"),label:"Email",required:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.email,callback:function(o){e.$set(e.form,"email",o)},expression:"form.email"}})],1),e._v(" "),o("v-col",{attrs:{cols:"12",md:"6"}},[o("v-text-field",{attrs:{"error-messages":e.form.errors.get("phone"),label:"Phone",required:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.phone,callback:function(o){e.$set(e.form,"phone",o)},expression:"form.phone"}})],1),e._v(" "),o("v-col",{attrs:{cols:"12",md:"6"}},[o("v-text-field",{attrs:{"error-messages":e.form.errors.get("address"),label:"Address",required:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.address,callback:function(o){e.$set(e.form,"address",o)},expression:"form.address"}})],1),e._v(" "),o("v-col",{attrs:{cols:"12",md:"6"}},[o("v-text-field",{attrs:{"error-messages":e.form.errors.get("city"),label:"City",required:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.city,callback:function(o){e.$set(e.form,"city",o)},expression:"form.city"}})],1),e._v(" "),o("v-col",{attrs:{cols:"12",md:"6"}},[o("v-text-field",{attrs:{"error-messages":e.form.errors.get("province"),label:"Province",required:"",outlined:"",dense:"","hide-details":"auto"},model:{value:e.form.province,callback:function(o){e.$set(e.form,"province",o)},expression:"form.province"}})],1),e._v(" "),o("v-col",{attrs:{cols:"12"}},[o("v-textarea",{attrs:{label:"Comments",rows:"2",outlined:""},model:{value:e.form.comments,callback:function(o){e.$set(e.form,"comments",o)},expression:"form.comments"}})],1),e._v(" "),o("v-col",{attrs:{cols:"12"}},[e.employeeId?e._e():o("v-btn",{attrs:{color:"primary",loading:e.form.busy,disabled:e.form.busy},on:{click:e.submitForm}},[e._v("\n            Submit\n          ")]),e._v(" "),e.employeeId?o("v-btn",{attrs:{color:"primary",loading:e.form.busy,disabled:e.form.busy},on:{click:e.submitForm}},[e._v("\n            Update\n          ")]):e._e(),e._v(" "),o("v-btn",{staticClass:"mx-2",attrs:{to:{name:"employees"},type:"reset",color:"error"}},[e._v("\n            Cancel\n          ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);